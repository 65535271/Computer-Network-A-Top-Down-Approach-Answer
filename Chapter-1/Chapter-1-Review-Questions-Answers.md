# 复习题

R1. “主机”和“端系统”之间有什么不同？列举几种不同类型的端系统。Web服务器是一种端系统吗？  
答案：主机和端系统并没有不同。常见的端系统比如笔记本电脑，智能手机等等。Web服务器是一种端系统。

R2. “协议”一词常被用于描述外交关系。维基百科是怎样描述外交协议的？
答案：  
百度百科：  
- 国家之间或政府之间缔结的据以确定其相互权利和义务的协议文书，多用于重大的政治、经济、军事、法律等问题的协议。有双边的，也有多边的。**狭义**仅指以条约命名的协议，如同盟条约、友好条约、和平条约、互不侵犯条约等。**广义**指不论以何种名称或形式缔结的协议，如条约、公约、协定、联合宣言、联合公报、联合声明、议定书、会谈纪要、换文、合同等。条约、公约等属于国际法律文件,是最重要的外交文书。  
- 其缔结和生效程序很严格，需经国家宪法规定的机关批准，完成其法律手续。一般由缔约国各方派代表经正式谈判达成原则协议后,共同拟订条文;次经缔约方国家元首批准,再按商定日期和地点举行换文仪式,交换批准书。通常规定双方缔结的条约，自互换批准书之日起开始生效。条约或公约经签订后，在其有效期内对各缔约国均具有约束力。
- 协定用于缔结意义不十分重大或短期性的协议，其应用较广泛，如贸易协定、海运协定等。
- 议定书通常用于某些具体问题的协议，或用于对已经缔结的条约进行解释、补充、修改或延长其有效期等。协定和议定书的有效期较短，缔结手续也比较简单。
- 换文指双方用互换照会的形式对达成协议的内容予以确认，有时它是条约、协定等的附件。

R3. 标准对于协议为什么重要？
答案：标准定义了协议的要做什么和具体内容。

R4. 列出6种接入技术。将它们分类为住宅接入、公司接入或广域无线接入。
答案：
- 住宅接入：光纤接入 DSL接入 
- 公司接入：以太网 WiFi 
- 广域无线接入：3G 4G 

R5. HFC宽带（光纤同轴电缆混合网(Hpa Hybrid Fiber Coaxial)）是专用的，还是用户间共享的？在下行HFC信道中，有可能发生碰撞吗？为什么？  
答案：  
HFC带宽是用户间共享的。   
下行HFC信道中不会发生碰撞。因为分组是由一个源发出，由不同的端系统接受，因此不存在冲突。

R6. 列出你所在城市中的可供使用的住宅接入技术。对于每种类型的接入方式，给出所宣称的下行速率、上行速率和每月的价格。  
答案：光纤到户。几十M大概。

R7. 以太LAN的传输速率是多少？  
答案：10M-10G不等。

R8. 能够运行以太网的一些物理媒体是什么？  
答案：双绞铜线，同轴电缆，光纤等等。

R9. 拨号调制解调器、HFC、DSL和FTTH都用于住宅接入。对于这些技术中的每一种，给出传输速率的范围。并讨论有关宽带是共享的还是专用的。  
答案：  
- 拨号调制解调器： 速率56kbps 带宽专用（未查到 看其他人答案）
- HFC（光纤同轴电缆混合网(Hpa Hybrid Fiber Coaxial)） ： 下行速率：42.8Mbps 上行速率：30.7Mbps 带宽共享 
- DSL（数字用户线路(Digital Subscriber Line)）： 下行速率：24Mbps 上行速率:2.5Mbps 带宽共享 
- FTTH（abbr. 光纤到户（纯光纤网的一种，Fiber To The Home））: 平均下行速率：20Mbps 带宽共享

R10. 描述今天最流行的无线因特网接入技术。对它们进行比较和对照。    
答案：
- WiFi和4G接入。
- WiFi速度快但距离短，4G速度慢但距离远。

R11. 假定在发送主机和接收主机间只有一台分组交换机。发送主机和交换机间以及交换机和接收主机间的传输速率分别是R1和R2。假设该交换机使用存储转发分组交换方式，发送一个长度为L的分组的端到端总时延是什么？（忽略排队时延、传播时延和处理时延）  
答案：总时延=L/R1+L/R2

R12. 与分组交换网络相比，电路交换网络有哪些优点？在电路交换网络中，TDM比FDM有哪些优点？  
答案：电路交换网络适合实时服务。交付质量高。 
TDM比FDM的优点如下：（来源于网络） 
1. 当发生拥塞等网络问题时，TDM中的数据丢失可能只会是一部分，而FDM中就可能是大部分或全部。 
2. TDM适合数字信号传输，而FDM适合模拟信号传输，因为现在通信网络多是传输数字信号，所以TDM比FDM好。 
3. 因为频分复用连接建立后，当中途没有数据传输时，他所占有的频段带宽不能被其他连接使用，故可能存在空置，而在时分复用的统计时分模式下，连接建立后，当某个连接暂时不用传输数据时可以少分时间片或者不分，即其时隙的分配时“按需分配”，这样就让出了相应的传输时间给其他连接。

R13. 假定用户共享一条2Mbps链路。同时假定当每个用户传输时连续以1Mbps传输，但每个用户仅传输20%的时间。  
- a. 当使用电路交换时，能够支持多少用户？  
- b. 作为该题的遗留问题，假定使用分组交换。为什么如果两个或更少的用户同时传输的话，在链路前面基本没有排队时延？为什么如果3个用户同时传输的话，将会有排队时延？  
- c. 求出某指定用户正在传输的概率。  
- d. 假定现在有3个用户。求出在任何给定时间，所有3个用户在同时传输的概率。求出队列增长的时间比率。
    
答案：
- a.使用电路交换时，能够支持2个用户。
- b.如果两个或更少的用户在传输，即使它们同时传输，也仅仅完全占用了2Mbps链路，不会造成排队。如果有3个用户同时传输，需要3Mbps，而此时链路只有2Mbps，因此将会有排队时延。
- c.指定用户正在传输的概率为20%。
- d.在任何给定的时间，所有三个用户同时传输的概率为0.2*0.2*0.2=0.008。因为只有三个用户时，队列才会增长，所以队列增长的时间比率为0.008。



R14. 为什么在等级结构相同级别的两个ISP通常互相对等？某IXP是如何挣钱的？  
答案：因为它们之间的所有流量可以直接连接而不是通过上游的ISP传输。IXP可以通过交换的流量对ISP收费。

R15. 某些内容提供商构建了自己的网络。描述谷歌的网络。内容提供商构建这些网络的动机是什么？  
答案：  
- 谷歌的网络：在本书写作的时候，谷歌估计有30-50个数据中心。谷歌的数据中心经过专用的TCP/IP网络互连，该网络跨越全球，但仍然独立于公共因特网。
- 内容提供商构建这些网络的动机是：直接与较低层ISP对接，减少向ISP支付的费用。对其服务最终如何交付给端用户有了更多的控制。

R16. 考虑从某源主机跨越一条固定路由向某目的主机发送一分组。列出端到端时延组成部分。这些时延中的哪些是固定的，哪些是变化的？  
答案：
- 端到端时延组成部分有：结点处理时延，排队时延，传输时延，传播时延。
- 时延中固定的部分有：传输时延 传播时延
- 时延中变化的部分有：结点处理时延 排队时延
 （与其他答案不同，我认为路由器的处理时间不是固定的）

R17. 访问在配套Web网站上有关传输时延与传播时延的Java小程序。在可用速率、传播时延和可用的分组长度之中找出一种组合，使得该分组的第一个比特到达接收方之前发送方结束了传输。找出另一种组合，使得发送方完成传输之前，该分组的第一个比特到达了接收方。  
答案：略过。

R18. 一个长度为1000字节的分组经距离2500km的链路传播，传播速率为2.5x10^8m/s并且传输速率为2Mbps，它需要多长时间？更为一般地，一个长度为L的分组经距离为d的链路传播，传输速率为s并且传播速率为Rbps，它需要用多长时间？该时延与传输速率相关吗？  
答案：   
1. （1）
- 传输时延：8Kb/2Mb = 4ms
- 传播时延：2500km/2.5x10^8m/s = 10ms
- 需要的时间为 14ms   
2. （2）
- 传输时延：8*L/R
- 传播时延：d/s
- 需要的时间为 8*L/R + d/s
- 时延与传输速率有关。

R19. 假定主机A要向主机B发送一个大文件。从主机A到主机B的路径上有3段链路，其速率分别为R1 = 500kbps，R2 = 2Mbps，R3 = 1Mbps。  
- a. 假定该网络中没有其他流量，该文件传送的吞吐量是多少？  
- b. 假定该文件为4MB。传输该文件到主机B大致需要多长时间？ 
- c. 重复(a)和(b)，只是这时R2减小到100kbps。  

答案：  
- a.吞吐量为500kbps  
- b.大致需要64s  
- c.吞吐量为100kbps，大致需要320s  

R20. 假定端系统A要向端系统B发送一个大文件。在一个非常高的层次上，描述端系统怎样从该文件生成分组。当这些分组之一到达某分组交换机时，该交换机使用分组中的什么信息来决定将该分组转发到哪一条路上？因特网中的分组交换为什么可以与驱车从一个城市到另一个城市并沿途询问方向相类比？

答案：  
端系统利用应用层生成分组。  
此时的分组交换机应该指的是路由器。路由器使用分组中的IP地址来决定将该分组转发到哪一条路。  
每个路由器都有一个转发表，当某分组到达一台路由器时，路由器检查IP地址，并用这个地址搜索转发表，以发现适当的输出链路。这种方式与沿途询问方向类似。  

R21. 访问配套Web站点的排队和丢包Java小程序。最大发送速率和最小的传输速率是什么？对于这些速率，流量强度是多少？用这些速率运行该Java小程序并确定出现丢包要花费多长时间？然后第二次重复该实验，再次确定出现丢包花费多长时间。这些值有什么不同？为什么会有这种现象？

答案：略过。

R22. 列出一个层次能执行的5个任务。这些任务中的一个（或两个）可能由两个（或更多）层次执行吗？  
答案：  
比如运输层，TCP的任务有划分为短报文，拥塞控制，流量控制，可靠性等等。它的任务不是由两个（或更多）层次执行的。但是，很多层次的任务是互相重复的。

R23. 因特网协议栈中的5个层次有哪些？在这些层次中，每层的主要任务是什么？

答案：
1. 应用层：提供了一些网络应用程序和应用层协议。
2. 运输层：在应用程序端点之间传输运输层报文。主要有TCP和UDP两种协议。
3. 网络层：负责将分组从一台主机移动到另一台主机。
4. 链路层：沿着路经将数据报传递给下一层结点。
5. 物理层：将整个帧从一个网络元素移动到邻近的网络元素。

R24. 什么是应用层报文？什么是运输层报文段？什么是网络层数据报？什么是链路层帧？
答案：  
- 应用层报文：一个端系统与另一个端系统应用程序交换信息的分组。 
- 运输层报文段：运输层的分组  
- 网络层数据报：网络层的分组  
- 链路层帧：链路层的分组  

R25. 路由器处理因特网协议栈中的哪些层次？链路层交换机处理的是哪些层次？主机处理的是哪些层次？

答案：
- 路由器处理的层次：物理层 链路层 网络层
- 交换机处理的层次：物理层 链路层
- 主机处理的层次：物理层 链路层 网络层 运输层 应用层

R26. 病毒和蠕虫之间有什么不同？

答案：
- 病毒：需要用户交互才能感染设备。
- 蠕虫：不许用户交互就能感染设备。

R27. 描述如何产生一个僵尸网络，以及僵尸网络是怎样被用于DDoS攻击的。

答案：
恶意软件控制了很多网络设备，统称为僵尸网络。  
利用恶意软件，僵尸网络中的网络设备向目标主机发送大量的分组，或者创建大量连接等等，使目标主机陷入困境。这就是僵尸网络被用于DDoS攻击的效果。  


R28. 假定Alice和Bob经计算机网络相互发送分组。假定Trudy将自己安置在网络中，使得她能够俘获由Alice发送的所有分组，并发送她希望给Bob的东西；她也能俘获Bob发送的所有分组，并发送她希望给Alice的东西。列出在这种情况下Trudy能够做的某些恶意的事情。

答案： Trudy可以进行嗅探分组，得到传输分组的副本，还可以进行IP哄骗，冒充另一个用户。


